import{R as e,d as t,F as n,a,p as r,L as s,I as o,T as l,r as c,c as i,b as m,i as u,x as p,e as d,l as f,f as g}from"./vendor.ef3ee35f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function y(n){const{header:a,left:r,right:s}=n;return e.createElement("div",{className:"h-full flex flex-col overflow-hidden"},e.createElement("header",{className:"flex-shrink-0 shadow-md z-10"},a),e.createElement(t.Container,{className:"flex-grow h-full"},e.createElement(t.Section,null,r),e.createElement(t.Bar,{size:10,className:"bg-dark-700"}),e.createElement(t.Section,null,s)))}function h(){return e.createElement("div",null,e.createElement("div",{className:"flex h-15 justify-between items-center px-5"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement("a",{href:"https://github.com/InfiniteXyy/playcode",target:"_blank",className:"leading-none"},e.createElement(n,{className:"h-[20px] w-[20px] text-dark-700"})),e.createElement("h1",{className:"font-medium"},"PlayCode"))))}var w,E;(E=w||(w={})).Cpp="cpp",E.Python="python",E.TypeScript="typescript";const x={[w.Cpp]:"C++",[w.Python]:"Python",[w.TypeScript]:"TypeScript"},v={[w.Cpp]:".cpp",[w.Python]:".py",[w.TypeScript]:".ts"};function b(){return new Worker("/assets/worker.8d3afca1.js",{type:"module"})}function N(e){let t;t=e===w.Cpp?new b:e===w.Python?new Worker("/assets/worker.77e66e64.js",{name:"python-worker"}):new Worker("/assets/worker.ed5806a0.js",{name:"typescript-worker"});const n=new MessageChannel;return t.postMessage({id:"constructor",data:n.port2},[n.port2]),{messagePort:n.port1,worker:t}}const k=a({code:{[w.Cpp]:'#include <stdio.h>\n\nint main() {\n    printf("Hello, C++!");\n    return 0;\n}',[w.Python]:'print("hello Python")',[w.TypeScript]:'const ts: string = "TypeScript"\nconsole.log(`hello ${ts}`)'},language:w.Cpp,workerMap:{}}).actions({setCode:(e,t)=>e.code[e.language]=t,setLanguage:(e,t)=>e.language=t,init:e=>{for(const t of Object.values(w))e.workerMap[t]=N(t)}}).methods((e=>({runCode(){const{code:t,language:n,workerMap:a}=e.getState();a[n].messagePort.postMessage({id:"compileLinkRun",data:t[n]})}}))).computed({messagePort:e=>{var t;return null==(t=e.workerMap[e.language])?void 0:t.messagePort}}).middleware((e=>r(e,{name:"runner-store",version:2,blacklist:["workerMap"]}))).build();function C(){const[t,{setLanguage:n}]=k.use((e=>e.language));return e.createElement("div",{className:"w-36 z-10"},e.createElement(s,{value:t,onChange:n},e.createElement("div",{className:"relative"},e.createElement(s.Button,{className:"relative w-full py-1 pl-3 pr-10 rounded-lg shadow-sm cursor-pointer text-left border-gray-200 border focus:outline-none text-sm"},e.createElement("span",{className:"block truncate"},x[t]),e.createElement("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},e.createElement(o,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}))),e.createElement(l,{as:c.exports.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},e.createElement(s.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 pl-0 focus:outline-none sm:text-sm"},Object.keys(x).map((t=>e.createElement(s.Option,{key:t,value:t,className:({active:e})=>i(e?"text-amber-900 bg-amber-100":"text-gray-900","cursor-pointer select-none relative py-2 pl-4 pr-4 list-none")},(({selected:n})=>e.createElement(e.Fragment,null,e.createElement("span",{className:i(n?"font-medium":"font-normal","block truncate")},x[t])))))))))))}function P(){const[{code:t,language:n},{setCode:a,runCode:r}]=k.use();return e.createElement("div",{className:"h-full flex flex-col"},e.createElement("div",{className:"h-[50px] flex items-center justify-between px-4"},e.createElement("span",{className:"font-medium text-sm text-gray-700"},`test${v[n]}`),e.createElement("div",{className:"flex items-center gap-2"},e.createElement(C,null),e.createElement("button",{className:"focus:outline-transparent leading-none"},e.createElement(m,{onClick:r,className:"text-green-500 h-5 w-5"})))),e.createElement(u,{value:t[n],language:n,options:{fontSize:17,minimap:{enabled:!1},wordWrap:"on"},wrapperClassName:"h-full",onChange:e=>a(e)}))}function S(){const t=c.exports.useRef(null),{messagePort:n}=k.useComputed(),[a]=c.exports.useState((()=>new p.exports.Terminal({fontFamily:"Sarasa Mono, Menlo"})));return c.exports.useEffect((()=>{a.open(t.current);const e=new d.exports.FitAddon;a.loadAddon(e);const n=new ResizeObserver(f.exports.debounce((()=>e.fit()),60));return n.observe(t.current),()=>{n.disconnect()}}),[]),c.exports.useEffect((()=>{if(!n)return;n.onmessage=e=>{switch(e.data.id){case"write":a.writeln(e.data.data)}}}),[n]),e.createElement("div",{className:"h-full",ref:t})}function M(){const{init:t}=k.useActions();return c.exports.useEffect((()=>{t()}),[]),e.createElement(y,{header:e.createElement(h,null),left:e.createElement(P,null),right:e.createElement(S,null)})}console.log({clang:"/assets/clang.2a466f0e.wasm",lld:"/assets/lld.36419ed2.wasm",memfs:"/assets/memfs.2c72ee42.wasm",sysroot:"/assets/sysroot.2435a7b5.tar"});g.render(e.createElement(M,null),document.getElementById("app"));
