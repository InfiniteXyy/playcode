var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&o(e,a,t[a]);if(n)for(var a of n(t))s.call(t,a)&&o(e,a,t[a]);return e},c=(e,n)=>t(e,a(n));import{R as i,d as p,F as m,c as u,p as d,L as f,I as g,T as y,r as h,a as w,b as E,i as b,x as v,e as x,f as N}from"./vendor.1ceec76e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function k(e){const{header:t,left:a,right:n}=e;return i.createElement("div",{className:"h-full flex flex-col overflow-hidden"},i.createElement("header",{className:"flex-shrink-0 shadow-md z-10"},t),i.createElement(p.Container,{className:"flex-grow h-full overflow-hidden"},i.createElement(p.Section,null,a),i.createElement(p.Bar,{size:10,className:"bg-dark-700"}),i.createElement(p.Section,{className:"bg-black"},n)))}function C(){return i.createElement("div",null,i.createElement("div",{className:"flex h-15 justify-between items-center px-5"},i.createElement("div",{className:"flex items-center gap-2"},i.createElement("a",{href:"https://github.com/InfiniteXyy/playcode",target:"_blank",className:"leading-none"},i.createElement(m,{className:"h-[20px] w-[20px] text-dark-700"})),i.createElement("h1",{className:"font-medium"},"PlayCode"))))}var M,P;(P=M||(M={})).Cpp="cpp",P.Python="python",P.TypeScript="typescript";const O={[M.Cpp]:"C++",[M.Python]:"Python",[M.TypeScript]:"TypeScript"},j={[M.Cpp]:".cpp",[M.Python]:".py",[M.TypeScript]:".ts"};function S(){return new Worker("/playcode/assets/worker.e93feaa1.js",{type:"module"})}function T(e){let t;t=e===M.Cpp?new S:e===M.Python?new Worker("/playcode/assets/worker.77e66e64.js",{name:"python-worker"}):new Worker("/playcode/assets/worker.ed5806a0.js",{name:"typescript-worker"});const a=new MessageChannel;return t.postMessage({id:"constructor",data:a.port2},[a.port2]),{messagePort:a.port1,worker:t}}const L=u(d(((e,t)=>({workerMap:{},codeMap:{[M.Cpp]:'#include <stdio.h>\n\nint main() {\n    printf("Hello, C++!");\n    return 0;\n}',[M.Python]:'print("hello Python")',[M.TypeScript]:'const ts: string = "TypeScript"\nconsole.log(`hello ${ts}`)'},language:M.Cpp,setCode:a=>{const n=t(),r=c(l({},n.codeMap),{[n.language]:a});e(c(l({},n),{codeMap:r}))},setLanguage:a=>e(c(l({},t()),{language:a})),init(){e((e=>{for(const t of Object.values(M))e.workerMap[t]=T(t)}))},runCode(){const{codeMap:e,language:a,workerMap:n}=t();n[a].messagePort.postMessage({id:"compileLinkRun",data:e[a]})}})),{name:"runner-store",version:2,blacklist:["workerMap"]}));function F(){const{language:e,setLanguage:t}=L((({language:e,setLanguage:t})=>({language:e,setLanguage:t})));return i.createElement("div",{className:"w-36 z-10"},i.createElement(f,{value:e,onChange:t},i.createElement("div",{className:"relative"},i.createElement(f.Button,{className:"relative w-full py-1 pl-3 pr-10 rounded-lg shadow-sm cursor-pointer text-left border-gray-200 border focus:outline-none text-sm"},i.createElement("span",{className:"block truncate"},O[e]),i.createElement("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},i.createElement(g,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}))),i.createElement(y,{as:h.exports.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},i.createElement(f.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 pl-0 focus:outline-none sm:text-sm"},Object.keys(O).map((e=>i.createElement(f.Option,{key:e,value:e,className:({active:e})=>w(e?"text-amber-900 bg-amber-100":"text-gray-900","cursor-pointer select-none relative py-2 pl-4 pr-4 list-none")},(({selected:t})=>i.createElement(i.Fragment,null,i.createElement("span",{className:w(t?"font-medium":"font-normal","block truncate")},O[e])))))))))))}function z(){const{codeMap:e,language:t,setCode:a,runCode:n}=L((({codeMap:e,language:t,setCode:a,runCode:n})=>({codeMap:e,language:t,setCode:a,runCode:n})));return i.createElement("div",{className:"h-full flex flex-col"},i.createElement("div",{className:"h-[50px] flex items-center justify-between px-4"},i.createElement("span",{className:"font-medium text-sm text-gray-700"},`test${j[t]}`),i.createElement("div",{className:"flex items-center gap-2"},i.createElement(F,null),i.createElement("button",{className:"focus:outline-transparent leading-none"},i.createElement(E,{onClick:n,className:"text-green-500 h-5 w-5"})))),i.createElement(b,{value:e[t],language:t,options:{fontSize:17,minimap:{enabled:!1},wordWrap:"on"},wrapperClassName:"h-full",onChange:e=>a(e)}))}function I(){const e=h.exports.useRef(null),t=L((e=>{var t;return null==(t=e.workerMap[e.language])?void 0:t.messagePort})),[a]=h.exports.useState((()=>new v.exports.Terminal({fontFamily:"Sarasa Mono, Menlo"})));return h.exports.useEffect((()=>{a.open(e.current);const t=new x.exports.FitAddon;a.loadAddon(t);const n=new ResizeObserver(function(e,t=60){let a=null;return function(){const n=this,r=arguments;clearTimeout(a),a=setTimeout((()=>{e.apply(n,r)}),t)}}((()=>t.fit())));return n.observe(e.current),()=>{n.disconnect()}}),[]),h.exports.useEffect((()=>{if(!t)return;t.onmessage=e=>{switch(e.data.id){case"write":a.writeln(e.data.data)}}}),[t]),i.createElement("div",{className:"h-full",ref:e})}function R(){const{init:e}=L((({init:e})=>({init:e})));return h.exports.useEffect((()=>{e()}),[]),i.createElement(k,{header:i.createElement(C,null),left:i.createElement(z,null),right:i.createElement(I,null)})}console.log({clang:"/playcode/assets/clang.2a466f0e.wasm",lld:"/playcode/assets/lld.36419ed2.wasm",memfs:"/playcode/assets/memfs.2c72ee42.wasm",sysroot:"/playcode/assets/sysroot.2435a7b5.tar"});N.render(i.createElement(R,null),document.getElementById("app"));
