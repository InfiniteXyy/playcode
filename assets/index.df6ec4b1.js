var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,l=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&o(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&o(e,n,t[n]);return e},c=(e,a)=>t(e,n(a));import{_ as i,R as p,d as m,F as u,c as d,p as f,L as g,I as y,T as h,r as w,a as E,b,i as v,x,e as k,f as N}from"./vendor.9ef3ee91.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function C(e){const{header:t,left:n,right:a}=e,r=i({minWidth:"800px"});return p.createElement("div",{className:"h-full flex flex-col overflow-hidden"},p.createElement("header",{className:"flex-shrink-0 shadow-md z-10"},t),p.createElement(m.Container,{vertical:!r,className:"flex-grow h-full overflow-hidden"},p.createElement(m.Section,null,n),p.createElement(m.Bar,{size:10,className:"bg-dark-700"}),p.createElement(m.Section,null,a)))}function P(){return p.createElement("div",null,p.createElement("div",{className:"flex h-15 justify-between items-center px-5"},p.createElement("div",{className:"flex items-center gap-2"},p.createElement("a",{href:"https://github.com/InfiniteXyy/playcode",target:"_blank",className:"leading-none"},p.createElement(u,{className:"h-[20px] w-[20px] text-dark-700"})),p.createElement("h1",{className:"font-medium"},"PlayCode"))))}var M,O;(O=M||(M={})).Cpp="cpp",O.Python="python",O.TypeScript="typescript";const j={[M.Cpp]:"C++",[M.Python]:"Python",[M.TypeScript]:"TypeScript"},S={[M.Cpp]:".cpp",[M.Python]:".py",[M.TypeScript]:".ts"};function T(){return new Worker("/playcode/assets/worker.e93feaa1.js",{type:"module"})}function L(e){let t;t=e===M.Cpp?new T:e===M.Python?new Worker("/playcode/assets/worker.77e66e64.js",{name:"python-worker"}):new Worker("/playcode/assets/worker.ed5806a0.js",{name:"typescript-worker"});const n=new MessageChannel;return t.postMessage({id:"constructor",data:n.port2},[n.port2]),{messagePort:n.port1,worker:t}}const z=d(f(((e,t)=>({workerMap:{},codeMap:{[M.Cpp]:'#include <stdio.h>\n\nint main() {\n    printf("Hello, C++!");\n    return 0;\n}',[M.Python]:'print("hello Python")',[M.TypeScript]:'const ts: string = "TypeScript"\nconsole.log(`hello ${ts}`)'},language:M.Cpp,setCode:n=>{const a=t(),r=c(l({},a.codeMap),{[a.language]:n});e(c(l({},a),{codeMap:r}))},setLanguage:n=>e(c(l({},t()),{language:n})),init(){e((e=>{for(const t of Object.values(M))e.workerMap[t]=L(t)}))},runCode(){const{codeMap:e,language:n,workerMap:a}=t();a[n].messagePort.postMessage({id:"compileLinkRun",data:e[n]})}})),{name:"runner-store",version:2,blacklist:["workerMap"]}));function F(){const{language:e,setLanguage:t}=z((({language:e,setLanguage:t})=>({language:e,setLanguage:t})));return p.createElement("div",{className:"w-36 z-10"},p.createElement(g,{value:e,onChange:t},p.createElement("div",{className:"relative"},p.createElement(g.Button,{className:"relative w-full py-1 pl-3 pr-10 rounded-lg shadow-sm cursor-pointer text-left border-gray-200 border focus:outline-none text-sm"},p.createElement("span",{className:"block truncate"},j[e]),p.createElement("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},p.createElement(y,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"}))),p.createElement(h,{as:w.exports.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},p.createElement(g.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 pl-0 focus:outline-none sm:text-sm"},Object.keys(j).map((e=>p.createElement(g.Option,{key:e,value:e,className:({active:e})=>E(e?"text-amber-900 bg-amber-100":"text-gray-900","cursor-pointer select-none relative py-2 pl-4 pr-4 list-none")},(({selected:t})=>p.createElement(p.Fragment,null,p.createElement("span",{className:E(t?"font-medium":"font-normal","block truncate")},j[e])))))))))))}function I(){const{codeMap:e,language:t,setCode:n,runCode:a}=z((({codeMap:e,language:t,setCode:n,runCode:a})=>({codeMap:e,language:t,setCode:n,runCode:a})));return p.createElement("div",{className:"h-full flex flex-col"},p.createElement("div",{className:"h-[50px] flex items-center justify-between px-4 flex-shrink-0"},p.createElement("span",{className:"font-medium text-sm text-gray-700"},`test${S[t]}`),p.createElement("div",{className:"flex items-center gap-2"},p.createElement(F,null),p.createElement("button",{className:"focus:outline-transparent leading-none"},p.createElement(b,{onClick:a,className:"text-green-500 h-5 w-5"})))),p.createElement(v,{value:e[t],language:t,options:{fontSize:17,minimap:{enabled:!1},wordWrap:"on"},wrapperClassName:"h-full",onChange:e=>n(e)}))}function W(){const e=w.exports.useRef(null),t=z((e=>{var t;return null==(t=e.workerMap[e.language])?void 0:t.messagePort})),[n]=w.exports.useState((()=>new x.exports.Terminal));return w.exports.useEffect((()=>{n.open(e.current);const t=new k.exports.FitAddon;n.loadAddon(t);const a=new ResizeObserver(function(e,t=60){let n=null;return function(){const a=this,r=arguments;clearTimeout(n),n=setTimeout((()=>{e.apply(a,r)}),t)}}((()=>t.fit())));return a.observe(e.current),()=>{a.disconnect()}}),[]),w.exports.useEffect((()=>{if(!t)return;n.clear();t.onmessage=e=>{switch(e.data.id){case"write":n.writeln(e.data.data)}}}),[t]),p.createElement("div",{className:"h-full bg-black",ref:e})}function R(){const{init:e}=z((({init:e})=>({init:e})));return w.exports.useEffect((()=>{e()}),[]),p.createElement(C,{header:p.createElement(P,null),left:p.createElement(I,null),right:p.createElement(W,null)})}console.log({clang:"/playcode/assets/clang.2a466f0e.wasm",lld:"/playcode/assets/lld.36419ed2.wasm",memfs:"/playcode/assets/memfs.2c72ee42.wasm",sysroot:"/playcode/assets/sysroot.2435a7b5.tar"});N.render(p.createElement(R,null),document.getElementById("app"));
